@page "/event/{EventId:int}"
@inject Services.EventService MyEventService
@using EventApp.Models

@if (currentEvent != null)
{
    <PageTitle>@currentEvent.Name</PageTitle>
    <h1>@currentEvent.Name</h1>
    <p><strong>Date:</strong> @currentEvent.Date.ToLongDateString()</p>
    <p><strong>Location:</strong> @currentEvent.Location</p>
    
    <hr />

    @* Link to the registration page for this specific event *@
    <a href="/register/@currentEvent.Id" class="btn btn-success">Register for this Event</a>
    <a href="/" class="btn btn-secondary">Back to List</a>
}
else
{
    <p>Event not found.</p>
}

@code {
    // This parameter receives the 'EventId' from the URL.
    [Parameter]
    public int EventId { get; set; }

    private Event? currentEvent;

    protected override void OnInitialized()
    {
        // Find the specific event using the ID from the URL.
        currentEvent = MyEventService.GetEventById(EventId);
    }
}